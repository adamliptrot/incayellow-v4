<div role="banner">
    <div class="banner__inner">
        <div class="banner__logo">
            <div class="banner__logo-inner">
                <a href="/" aria-labelledby="svg-title">
                    <svg focusable="false" id="logo" width="100%" height="100%" viewBox="0 0 687 166" xmlns="http://www.w3.org/2000/svg">
                        <title id="svg-title">inca yellow</title>
                        <path aria-hidden="true" id="logo__box" fill="#EAD85C" d="M277.37 15L249 148.934l396.798 1.675L672 15z"/>
                        <path aria-hidden="true" id="logo__yellow" d="M281.48 130.896c.523-2.165 1.568-3.827 3.136-4.984s3.397-1.736 5.488-1.736c2.165 0 4.013.616 5.544 1.848 1.53 1.232 3.117 3.192 4.76 5.88 1.568-1.27 3.08-2.539 4.536-3.808a61.014 61.014 0 0 0 4.2-4.032A2946.545 2946.545 0 0 0 305 100.04c-1.419-8.027-2.8-15.997-4.144-23.912-.224-1.344-.541-2.184-.952-2.52-.41-.336-.915-.504-1.512-.504-.523 0-1.157.224-1.904.672-.747.448-1.53 1.045-2.352 1.792l-2.576-3.36c3.435-4.181 6.608-7.317 9.52-9.408 2.912-2.09 5.824-3.136 8.736-3.136 3.136 0 5.339.952 6.608 2.856 1.27 1.904 2.128 4.835 2.576 8.792.747 6.197 1.475 12.376 2.184 18.536.71 6.16 1.437 12.339 2.184 18.536a276.63 276.63 0 0 0 4.648-15.96 2019.944 2019.944 0 0 0 4.088-16.072c1.045-4.181 2.072-7.485 3.08-9.912 1.008-2.427 2.203-4.163 3.584-5.208 1.381-1.045 3.192-1.568 5.432-1.568 1.867 0 3.584.616 5.152 1.848 1.568 1.232 2.352 2.93 2.352 5.096 0 2.165-.448 4.275-1.344 6.328-.896 2.053-2.053 4.312-3.472 6.776a481.13 481.13 0 0 1-4.088 7 142.427 142.427 0 0 1-4.984 7.784 354.851 354.851 0 0 0-6.496 9.632c-2.24 3.435-5.003 7.205-8.288 11.312a188.038 188.038 0 0 1-6.104 7.616c-2.203 2.613-4.872 5.563-8.008 8.848-2.539 2.539-5.208 4.667-8.008 6.384-2.8 1.717-5.805 2.576-9.016 2.576-2.763 0-5.19-.84-7.28-2.52-2.09-1.68-3.136-4.163-3.136-7.448zm106.744-64.624c-1.941 0-3.995 1.12-6.16 3.36-2.165 2.24-4.032 5.19-5.6 8.848-1.568 3.659-2.464 7.653-2.688 11.984 4.555-1.792 8.12-3.77 10.696-5.936 2.576-2.165 4.405-4.405 5.488-6.72 1.083-2.315 1.624-4.48 1.624-6.496 0-1.717-.336-2.987-1.008-3.808-.672-.821-1.456-1.232-2.352-1.232zm-12.768 51.52c-6.197 0-11.2-1.941-15.008-5.824s-5.712-8.997-5.712-15.344c0-5.003.859-9.725 2.576-14.168s4.125-8.381 7.224-11.816c3.099-3.435 6.776-6.123 11.032-8.064 4.256-1.941 8.923-2.912 14-2.912 5.525 0 9.781 1.195 12.768 3.584 2.987 2.39 4.48 5.45 4.48 9.184 0 5.077-2.819 9.576-8.456 13.496s-13.72 7.112-24.248 9.576c.523 2.987 1.717 5.264 3.584 6.832 1.867 1.568 4.219 2.352 7.056 2.352 3.21 0 6.085-.784 8.624-2.352a25.934 25.934 0 0 0 6.608-5.824l3.36 2.352c-1.493 2.987-3.565 5.936-6.216 8.848-2.65 2.912-5.787 5.32-9.408 7.224-3.621 1.904-7.71 2.856-12.264 2.856zm45.592 0c-2.987 0-5.32-.71-7-2.128-1.68-1.419-2.52-3.397-2.52-5.936 0-1.792.224-3.939.672-6.44.448-2.501 1.083-5.693 1.904-9.576l4.928-22.96c.747-3.51 1.493-7.056 2.24-10.64.747-3.584 1.419-7.13 2.016-10.64l-6.384-.784.672-4.592 25.648-7.728 1.904 1.568-13.552 62.272c-.448 1.792-.672 3.173-.672 4.144 0 1.493.56 2.24 1.68 2.24 1.419 0 3.733-2.165 6.944-6.496l3.696 2.352c-1.419 2.613-3.192 5.096-5.32 7.448a25.914 25.914 0 0 1-7.448 5.712c-2.837 1.456-5.973 2.184-9.408 2.184zm36.856 0c-2.987 0-5.32-.71-7-2.128-1.68-1.419-2.52-3.397-2.52-5.936 0-1.792.224-3.939.672-6.44.448-2.501 1.083-5.693 1.904-9.576l4.928-22.96c.747-3.51 1.493-7.056 2.24-10.64.747-3.584 1.419-7.13 2.016-10.64l-6.384-.784.672-4.592 25.648-7.728 1.904 1.568-13.552 62.272c-.448 1.792-.672 3.173-.672 4.144 0 1.493.56 2.24 1.68 2.24 1.419 0 3.733-2.165 6.944-6.496l3.696 2.352c-1.419 2.613-3.192 5.096-5.32 7.448a25.914 25.914 0 0 1-7.448 5.712c-2.837 1.456-5.973 2.184-9.408 2.184zm48.728 0c-4.256 0-8.12-.765-11.592-2.296-3.472-1.53-6.235-3.92-8.288-7.168s-3.08-7.448-3.08-12.6c0-4.555.84-8.979 2.52-13.272a38.21 38.21 0 0 1 7.112-11.592 34.442 34.442 0 0 1 10.864-8.176c4.181-2.016 8.736-3.024 13.664-3.024 4.33 0 8.195.765 11.592 2.296 3.397 1.53 6.104 3.901 8.12 7.112 2.016 3.21 3.024 7.43 3.024 12.656 0 4.555-.84 8.997-2.52 13.328-1.68 4.33-4.032 8.195-7.056 11.592-3.024 3.397-6.608 6.104-10.752 8.12-4.144 2.016-8.68 3.024-13.608 3.024zm1.344-6.72c2.016 0 3.845-1.045 5.488-3.136 1.643-2.09 3.061-4.853 4.256-8.288 1.195-3.435 2.128-7.187 2.8-11.256a73.807 73.807 0 0 0 1.008-12.04c0-3.957-.485-6.608-1.456-7.952-.97-1.344-2.24-2.016-3.808-2.016-2.016 0-3.864 1.064-5.544 3.192-1.68 2.128-3.117 4.91-4.312 8.344-1.195 3.435-2.11 7.13-2.744 11.088-.635 3.957-.952 7.765-.952 11.424 0 4.33.523 7.187 1.568 8.568 1.045 1.381 2.277 2.072 3.696 2.072zM561.072 116l-5.824-39.872c-.15-1.344-.448-2.184-.896-2.52a2.541 2.541 0 0 0-1.568-.504c-.523 0-1.157.224-1.904.672-.747.448-1.53 1.045-2.352 1.792l-2.576-3.36c3.435-4.181 6.608-7.317 9.52-9.408 2.912-2.09 5.824-3.136 8.736-3.136 3.136 0 5.488.952 7.056 2.856 1.568 1.904 2.501 4.835 2.8 8.792.373 4.33.765 8.643 1.176 12.936.41 4.293.803 8.568 1.176 12.824a3586.44 3586.44 0 0 1 8.12-17.248 3586.44 3586.44 0 0 0 8.12-17.248h11.872c.97 6.496 1.923 12.992 2.856 19.488.933 6.496 1.885 12.992 2.856 19.488a182.476 182.476 0 0 0 5.768-8.624 334.69 334.69 0 0 0 5.432-8.96l-1.456-4.032a442.52 442.52 0 0 1-2.016-5.488c-.672-1.867-1.008-3.659-1.008-5.376 0-3.36 1.027-5.861 3.08-7.504 2.053-1.643 4.573-2.464 7.56-2.464a9.18 9.18 0 0 1 3.024.504c.97.336 1.792.728 2.464 1.176.821 1.045 1.363 2.147 1.624 3.304.261 1.157.392 2.781.392 4.872 0 1.792-.317 3.696-.952 5.712-.635 2.016-1.848 4.592-3.64 7.728-2.763 4.928-6.347 10.323-10.752 16.184-4.405 5.861-9.37 11.667-14.896 17.416l-10.08 1.12-1.344-1.12a988.824 988.824 0 0 0-2.352-15.176c-.821-5.04-1.643-10.061-2.464-15.064A5706.727 5706.727 0 0 0 573.84 116l-11.424 1.12-1.344-1.12z" fill="#0B1016"/>
                        <path aria-hidden="true" id="logo__inca" d="M26.76 109.728c0-1.792.224-3.92.672-6.384.448-2.464.821-4.405 1.12-5.824l5.152-24.976-6.608-.784.784-4.592 25.76-7.728 1.904 1.68-8.624 39.088c-.448 1.792-.672 3.173-.672 4.144 0 1.493.56 2.24 1.68 2.24 1.419 0 3.733-2.165 6.944-6.496l3.696 2.352c-1.419 2.613-3.192 5.096-5.32 7.448a25.914 25.914 0 0 1-7.448 5.712c-2.837 1.456-5.973 2.184-9.408 2.184-2.987 0-5.339-.71-7.056-2.128-1.717-1.419-2.576-3.397-2.576-5.936zm21.84-58.8c-2.315 0-4.405-.765-6.272-2.296-1.867-1.53-2.8-3.603-2.8-6.216 0-3.136 1.12-5.675 3.36-7.616 2.24-1.941 4.741-2.912 7.504-2.912 2.613 0 4.76.803 6.44 2.408 1.68 1.605 2.52 3.603 2.52 5.992 0 3.136-1.083 5.693-3.248 7.672s-4.667 2.968-7.504 2.968zM82.096 116l-17.36.896-1.792-1.456 8.848-42.896-6.496-.784.784-4.592 24.64-7.728 2.352 2.016-1.904 9.856c7.99-7.765 15.53-11.648 22.624-11.648 2.464 0 4.592.821 6.384 2.464 1.792 1.643 2.688 4.144 2.688 7.504 0 1.419-.093 2.893-.28 4.424a37.217 37.217 0 0 1-.952 4.872l-5.376 21.28c-.224.896-.41 1.661-.56 2.296a8.058 8.058 0 0 0-.224 1.848c0 1.493.523 2.24 1.568 2.24 1.568 0 3.957-2.165 7.168-6.496l3.696 2.352c-1.419 2.613-3.248 5.096-5.488 7.448a27.987 27.987 0 0 1-7.672 5.712c-2.875 1.456-6.03 2.184-9.464 2.184-2.987 0-5.301-.71-6.944-2.128-1.643-1.419-2.464-3.397-2.464-5.936 0-1.792.224-3.696.672-5.712a140.07 140.07 0 0 1 1.232-5.152l3.92-15.568c.896-3.36 1.344-5.973 1.344-7.84 0-.896-.243-1.587-.728-2.072-.485-.485-1.101-.728-1.848-.728-1.419 0-3.043.448-4.872 1.344-1.83.896-3.752 2.315-5.768 4.256l-2.912 13.552a362.688 362.688 0 0 0-2.464 12.04A981.57 981.57 0 0 1 82.096 116zm71.464 1.792c-4.032 0-7.579-.896-10.64-2.688-3.061-1.792-5.47-4.275-7.224-7.448-1.755-3.173-2.632-6.925-2.632-11.256 0-4.853.84-9.464 2.52-13.832a38.566 38.566 0 0 1 7.112-11.76 33.191 33.191 0 0 1 10.92-8.176c4.219-1.979 8.867-2.968 13.944-2.968 4.33 0 8.008 1.008 11.032 3.024 3.024 2.016 5.059 4.779 6.104 8.288-.075 2.315-.97 4.33-2.688 6.048-1.717 1.717-3.883 2.576-6.496 2.576-2.09 0-3.752-.69-4.984-2.072a22.768 22.768 0 0 1-3.192-4.648l-3.472-6.72c-2.912 2.24-5.227 4.835-6.944 7.784-1.717 2.95-2.93 6.01-3.64 9.184-.71 3.173-1.064 6.216-1.064 9.128 0 4.33 1.045 7.485 3.136 9.464 2.09 1.979 4.928 2.968 8.512 2.968 2.09 0 4.443-.653 7.056-1.96 2.613-1.307 5.115-3.379 7.504-6.216l3.248 2.352c-1.568 3.136-3.715 6.16-6.44 9.072-2.725 2.912-5.917 5.283-9.576 7.112-3.659 1.83-7.69 2.744-12.096 2.744zm52.2-22.848c0 3.584.523 6.123 1.568 7.616 1.045 1.493 2.501 2.24 4.368 2.24 1.27 0 2.539-.373 3.808-1.12a19.939 19.939 0 0 0 3.472-2.576 30.761 30.761 0 0 0 .672-3.584l6.16-28c-1.867-.821-3.696-1.232-5.488-1.232-.97 0-1.941.187-2.912.56-.97.373-2.016 1.083-3.136 2.128-1.717 1.493-3.21 3.677-4.48 6.552a48.697 48.697 0 0 0-2.968 9.072c-.71 3.173-1.064 5.955-1.064 8.344zm23.408 22.848c-3.21 0-5.787-.933-7.728-2.8-1.941-1.867-2.912-4.63-2.912-8.288-2.987 3.21-6.197 5.861-9.632 7.952-3.435 2.09-6.795 3.136-10.08 3.136-2.09 0-4.07-.523-5.936-1.568-1.867-1.045-3.379-2.781-4.536-5.208-1.157-2.427-1.736-5.693-1.736-9.8 0-4.032.784-8.045 2.352-12.04 1.568-3.995 3.696-7.765 6.384-11.312a53.185 53.185 0 0 1 9.128-9.408c3.397-2.725 6.925-4.872 10.584-6.44 3.659-1.568 7.205-2.352 10.64-2.352 1.941 0 3.79.299 5.544.896 1.755.597 3.416 1.53 4.984 2.8l8.848-3.696 1.792 1.568-8.96 38.976c-.224.896-.41 1.661-.56 2.296a8.058 8.058 0 0 0-.224 1.848c0 1.493.597 2.24 1.792 2.24.896 0 1.848-.579 2.856-1.736 1.008-1.157 2.333-2.781 3.976-4.872l3.696 2.352c-1.27 2.39-2.93 4.779-4.984 7.168-2.053 2.39-4.387 4.368-7 5.936-2.613 1.568-5.376 2.352-8.288 2.352z" fill="#0B1016"/>
                    </svg>
                </a>
            </div>
        </div>
        <nav class="primary-nav" aria-label="Main">
            <ul role="list">
                <li><a href="/" {% if page.url == "/" %} aria‐current="page"{% endif %}>Home</a></li>
                <li><a href="/archives/"{% if page.url == "/archives/" %} aria‐current="page"{% endif %}>Archive</a></li>
                <li>
                    <label class="toggle">
                        <span class="toggle__copy">Dark mode</span>
                        <input type="checkbox" class="hide toggle__checkbox" />
                        <span class="toggle__track">
                            <span class="toggle__slider"></span>
                        </span>
                    </label>
                </li>
            </ul>
        </nav>
    </div>
</div>

<script>
// ****************************
// ******** DARK MODE *********
// ****************************

let darkMode;
checkMode()

function setMode(mode){
    const bodyEl = document.querySelector('body')
    const toggleEl = document.querySelector('.toggle')

    if(mode == "dark"){
        bodyEl.classList.add("theme--dark")
        if(document.querySelector('#schematic__host')){
            document.querySelector('#schematic__host').getSVGDocument().querySelector('svg').classList.add("theme--dark")
        }
        toggleEl.classList.add('toggle--on')
    } else {
        bodyEl.classList.remove("theme--dark")
        if(document.querySelector('#schematic__host')){
            document.querySelector('#schematic__host').getSVGDocument().querySelector('svg').classList.remove("theme--dark")
        }
        toggleEl.classList.remove('toggle--on')
    }
    //console.log('Set mode to ' + mode)
    localStorage.setItem('iy__darkMode', mode)
}

function checkMode(){
    // set initial darkMode to OS preference
    darkMode = window.matchMedia('(prefers-color-scheme: dark)').matches ? "dark" : ""

    // overwrite with user site preference
    if (localStorage.getItem('iy__darkMode') != null) {
        darkMode = localStorage.getItem('iy__darkMode');
        setMode(darkMode)
    } else {
        setMode(darkMode)
    }
}


const modeButton = document.querySelector('.toggle');
modeButton.addEventListener('click', function(e){
    //console.log('Page level changed')
    e.preventDefault();
    if(darkMode == "dark"){
        darkMode = ""
    } else {
        darkMode = "dark"
    }
    setMode(darkMode)
})

window.matchMedia('(prefers-color-scheme: dark)').addListener(function(){
    //console.log('OS level changed')
    darkMode = window.matchMedia('(prefers-color-scheme: dark)').matches ? "dark" : ""
    setMode(darkMode)
});
</script>